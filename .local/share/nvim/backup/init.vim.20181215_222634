"
"                                          _ __ _,  ï¼¿_
"                                      ,.-' ä¸¶   'ï½€ä¸¶/
"                                    ï¼ ï¼‰     ï¿£     ï¼¼
"                           _,..,_ /__ï¼        r â€•-ï½¤   ï¼¼
"                        ï¼      ï½€ä¸¶    ï¼¿_    ä¸¶ ï¼¿ï¼‰  ãƒ½â€•-ï½¤_,
"                     _ï¼             ï¼¼/   ï¾‰             | ã ï¼¼
"                    /                  ãƒ½ï¿£              /  }ï¿£
"                   /              _     |ï¼¿           ï¼   /
"                   |           ï¼  ï½€ãƒ½.|  ï½€ãƒ¼---â€-Â´ __,ãƒ
"                  /           /   _ï¼¿  }ï¾‰     __ -â€• ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¼ï¼¿ï¼¿ï¼¿
"                ï¼        ï¼¿ï¼  /ï¿£     /   ,-                                  ï¼|
"               /     .ï¼ï¿£           _//   / ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£|  |
"              /  _ ï¼ _ ,-  __ , __-   |_,/ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£| |  |
"              (ï½°Â´_,.Â´     | |                                                | |  |/|
"                ï¿£        | |    |ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£|    | |    |
"                          | |    |                                      |    | | /| |
"                          | |    |                                      |    | ||/| |
"                          | |ï½¥>>>|                                      |    | || | |
"                          | |    |                                      |    | ||/  |
"                          | |    |                                      |    | |    |
"                          | |    |                                      |    | |    |
"                          | |    |     ãªã¤ã‚ ã® init.vim               |    | |    |
"                          | |    |       ã‹ãã“ã‚€        ãŸãã‚ãˆã‚‹     |    | |    |
"                          | |    |       ãƒ‹ãƒˆãƒ­ãƒãƒ£ãƒ¼ã‚¸  ã¨ã£ã¦ãŠã     |    | |    |
"                          | |    |                                      |    | |    |
"                          | |    |                                      |    | |    |
"                          | |    |                                      |    | |    |
"                          | |    |                                      |    | |    |
"                          | |    |                                      |    | |    |
"                          | |    |ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿|    | |    |
"                          | |                                                | |    |
"                          | |                                                | |    |
"                          | |                                                | |    |
"                          | |                                                | |    |
" ----------------------------------------------------------------------------------------------------

augroup initvim
  " remove all initvim autocommands
  autocmd!
augroup END

" --- Environment Variables --------------------------------------------------
let $XDG_CACHE_HOME = expand($HOME.'/.cache')
let $XDG_CONFIG_HOME = expand($HOME.'/.config')
let $XDG_DATA_DIRS = expand('/usr/local/share:/usr/share')
let $XDG_DATA_HOME = expand($HOME.'/.local/share')

let $MY_VIM_SETTINGS = expand($HOME.'/.vim/my_settings')
let $CURRENT_FILE_NAME = split(expand("%"),"/")[-1]


" --- Global functions -------------------
let g:curpos = getcurpos()

function! g:Get_curpos_to_curpos() abort
  let g:curpos = getcurpos()
endfunction

" pos ã¯é…åˆ—ã§ï¼Œãã®æ‰±ã„ãŒãŠã‹ã—ã„ã£ã½ã„ï¼Ÿ
function! g:Set_curpos(pos) abort
  echo setpos('.', a:pos)
endfunction




set fenc=utf-8
set backupdir=$XDG_DATA_HOME/nvim/backup
" " CURRENT_FILE_NAME ã§ backupã‚’ã¾ã¨ã‚ã‚ˆã†ã‹ã¨æ€ã£ãŸã‘ã©ï¼Œ
" " ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã—ãªã„ã¨ä¿å­˜ã§ããªã„ã®ã§ã‚ã‚“ã©ãã•ã„ã€‚
" set backupdir=$XDG_DATA_HOME/nvim/backup/$CURRENT_FILE_NAME
set backup
au initvim BufWritePre * let &bex = '.' . strftime("%Y%m%d_%H%M%S")
set directory=$XDG_DATA_HOME/nvim/swap
set swapfile
" ç·¨é›†ä¸­ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰è‡ªå‹•ã§èª­ã¿ç›´ã™
set autoread
" hidden current buffer and open other files
set hidden
" spelling check
set spell
set spelllang=en,cjk
nnoremap <C-s> z=
inoremap <C-s> <C-x>s

" --- Move ---------------------
" å·¦å³ã®ã‚«ãƒ¼ã‚½ãƒ«ç§»å‹•ã§è¡Œé–“ç§»å‹•å¯èƒ½ã«ã™ã‚‹ã€‚
set whichwrap=h,l,b,s,<,>,[,]
set backspace=indent,eol,start
" æŠ˜ã‚Šè¿”ã—æ™‚ã«è¡¨ç¤ºè¡Œå˜ä½ã§ã®ç§»å‹•ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
nnoremap <silent>j gj
nnoremap <silent>k gk
" ãƒã‚¦ã‚¹ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹
set mouse=a
" è¡Œæœ«ã®1æ–‡å­—å…ˆã¾ã§ã‚«ãƒ¼ã‚½ãƒ«ã‚’ç§»å‹•ã§ãã‚‹ã‚ˆã†ã«
set virtualedit=
" çŸ­å½¢é¸æŠã§ã„ãã‚‰ã§ã‚‚æ¨ªã«è¡Œã‘ã‚‹
set virtualedit=block
" ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®ä½™è£•ã‚’ç¢ºä¿ã™ã‚‹
set scrolloff=2
" maintain cursor position
autocmd initvim BufReadPost *
      \ if line("'\"") > 0 && line ("'\"") <= line("$") |
      \   exe "normal! g'\"" |
      \ endif
" default: show file name, lines, cursor pos
nnoremap <silent> <C-g> <C-b>

" --- Undo ------------------
" nnoremap <C-u> <C-r>
set undodir=$XDG_DATA_HOME/nvim/undo
set undofile
set undolevels=1000
" --- Yank, Paste, Resisters -----------
" set clipboard+=unnamedplus
inoremap <silent><C-r><C-r>  <C-r>*
autocmd initvim TextYankPost *
    \ echomsg "yank"string(v:event.regcontents)" to reg: ".v:event.regname
" --- viminfo --------------------------
set viminfo+=n$XDG_DATA_HOME/nvim/viminfo
autocmd initvim TextYankPost * :wv
autocmd initvim FocusGained * :rv!
" --- Marks ----------------todo:
" mark[0-9] ã‚’ã‚­ãƒ¥ãƒ¼ã®ã‚ˆã†ã«æ‰±ã†ã‚‚ã®ã¨ã—ã¦å†æ§‹æˆã™ã‚‹ã€‚
" mark 0 ã«è¿½åŠ ã—ã¦ï¼Œmark9 ã¯å‰Šé™¤ã™ã‚‹ã€‚
" nnoremap mm
function! Push_queue_of_marks() abort
  echo "hoge"
endfunction


" --- Information -------------------------
" è¡Œç•ªå·ã‚’è¡¨ç¤º
set number
" ãƒ“ãƒ¼ãƒ—éŸ³ã‚’å¯è¦–åŒ–
" set visualbell
" æ‹¬å¼§å…¥åŠ›æ™‚ã®å¯¾å¿œã™ã‚‹æ‹¬å¼§ã‚’è¡¨ç¤º
set showmatch
" å…¥åŠ›ä¸­ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«è¡¨ç¤ºã™ã‚‹
set showcmd
" æ–‡å­—æ•°
" set ruler
" ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ©ã‚¤ãƒ³ã‚’ 0=è¡¨ç¤ºã—ãªã„,1=2ç”»é¢ä»¥ä¸Šã ã‘,2=å¸¸ã«è¡¨ç¤º
set laststatus=2
" ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã®è£œå®Œ
set wildmode=list:longest



" --- Tab / invisible character -----------
" ä¸å¯è¦–æ–‡å­—ã‚’å¯è¦–åŒ–(ã‚¿ãƒ–ãŒã€Œâ–¸-ã€ã¨è¡¨ç¤ºã•ã‚Œã‚‹)
set list listchars=tab:\â–¸\-
" Tabæ–‡å­—ã‚’åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã«ã™ã‚‹
set expandtab
" è¡Œé ­ä»¥å¤–ã®Tabæ–‡å­—ã®è¡¨ç¤ºå¹…ï¼ˆã‚¹ãƒšãƒ¼ã‚¹ã„ãã¤åˆ†ï¼‰
set tabstop=2
" è¡Œé ­ã§ã®Tabæ–‡å­—ã®è¡¨ç¤ºå¹…
set shiftwidth=2
" ã‚ªãƒ¼ãƒˆã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ
set autoindent
" ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã¯ã‚¹ãƒãƒ¼ãƒˆã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ
set smartindent
" ã‚¿ãƒ–ã‚’ >--- åŠã‚¹ãƒšã‚’ . ã§è¡¨ç¤ºã™ã‚‹
set listchars=tab:>-,trail:.
" ä¸å¯è¦–æ–‡å­—ã‚’è¡¨ç¤ºã™ã‚‹
set list


" --- Search --------------------
" æ¤œç´¢æ–‡å­—åˆ—ãŒå°æ–‡å­—ã®å ´åˆã¯å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ãªãæ¤œç´¢ã™ã‚‹
set ignorecase
" æ¤œç´¢æ–‡å­—åˆ—ã«å¤§æ–‡å­—ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯åŒºåˆ¥ã—ã¦æ¤œç´¢ã™ã‚‹
set smartcase
" æ¤œç´¢æ–‡å­—åˆ—å…¥åŠ›æ™‚ã«é †æ¬¡å¯¾è±¡æ–‡å­—åˆ—ã«ãƒ’ãƒƒãƒˆã•ã›ã‚‹
set incsearch
" æ¤œç´¢æ™‚ã«æœ€å¾Œã¾ã§è¡Œã£ãŸã‚‰æœ€åˆã«æˆ»ã‚‹
set wrapscan
" æ¤œç´¢èªã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
set hlsearch


" è‹±æ•°ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ãŸã‚ã®é–¢æ•°ã‚’å®šç¾©ã™ã‚‹
if executable('osascript')
  let s:keycode_jis_eisuu = 102
  let g:force_alphanumeric_input_command = "osascript -e 'tell application \"System Events\" to key code " . s:keycode_jis_eisuu . "' &"
  inoremap   :call system(g:force_alphanumeric_input_command)
endif


" about help ---------------------
" If true Vim master, use English help file.
set helplang& helplang=en,ja

" about tab/pain ---------------------
let mapleader = "t"

" split pain horizontally/vertically
nnoremap <silent> <Leader>s :split<CR>
nnoremap <silent> <Leader>v :vsplit<CR>
" focus to another pane
nnoremap <silent> <Leader>j <C-w>w
" swap to another pane
nnoremap <silent> <Leader>J <C-w>J
nnoremap <silent> <Leader>K <C-w>K
nnoremap <silent> <Leader>H <C-w>H
nnoremap <silent> <Leader>L <C-w>L
" Expand/Shrink focused pane (take number)
nnoremap <silent> <Leader>> <C-w>>
nnoremap <silent> <Leader>< <C-w><
nnoremap <silent> <Leader>+ <C-w>+
nnoremap <silent> <Leader>- <C-w>-
" new tab
nnoremap <silent> <Leader>t :tabnew<CR>
" show previous/next tab
nnoremap <silent> <Leader>h gT
nnoremap <silent> <Leader>l gt
" move current pain to new tab
" (if current window has only one pane, split into two tabs)
nnoremap <silent> <Leader>m :<C-u>call <SID>MoveToNewTab()<CR>
function! s:MoveToNewTab()
  tab split
  tabprevious
  if winnr('$') > 1
    close
  elseif bufnr('$') > 1
    buffer #
  endif
  tabnext
endfunction


let mapleader = "\\"

" ---------------------------------------
"  autocmd settings
" ---------------------------------------
augroup initvim

  " ã‚¤ãƒ³ã‚µãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã«å…¥ã£ãŸã¨ãã«ç™ºç«
  autocmd InsertEnter * :NoMatchParen

  " ã‚¤ãƒ³ã‚µãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’æŠœã‘ã‚‹ã¨ãã«ç™ºç«
  autocmd InsertLeave * :DoMatchParen
  " ç™ºç«ã•ã‚ŒãŸç›´å¾Œã«ã‚­ãƒ¼å…¥åŠ›ãŒä½™åˆ†ã«å¿…è¦ã«ãªã‚‹ãƒã‚°ã€()ã®mapãŒãŠã‹ã—ããªã‚‹ãƒã‚°ãŒã‚ã£ã¦ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ
  " autocmd InsertLeave * call system(g:force_alphanumeric_input_command)

  " vim ã‚’ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ãŸã¨ãã«ç™ºç«
  " autocmd FocusGained * call system(g:force_alphanumeric_input_command)

  " init.vim ã‚’ä¿å­˜ã—ãŸã¨ãã«ãƒªãƒ­ãƒ¼ãƒ‰
  autocmd BufWritePost $XDG_CONFIG_HOME/nvim/init.vim so $XDG_CONFIG_HOME/nvim/init.vim

  " æ–°è¦ã« .hello ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹å ´åˆã« Hello ã¨ã„ã†ãƒ†ã‚­ã‚¹ãƒˆã‚’æŒ¿å…¥ã™ã‚‹
  autocmd BufNewFile  *.hello  put='Hello'


augroup END


" ---------------------------------------
"  dein scripts
" ---------------------------------------

if &compatible
  set nocompatible               " Be iMproved
endif

" Required:
set runtimepath+=$XDG_CACHE_HOME/dein/repos/github.com/Shougo/dein.vim

" Required:
if dein#load_state('$XDG_CACHE_HOME/dein')
  call dein#begin('$XDG_CACHE_HOME/dein')

  " Let dein manage dein
  " Required:
  call dein#add('$XDG_CACHE_HOME/dein/repos/github.com/Shougo/dein.vim')

  " core plugin
  call dein#add('Shougo/deoplete.nvim')
  call dein#add('Shougo/denite.nvim')
  call dein#add('Shougo/unite.vim')
  call dein#add('poppyschmo/deoplete-latex')
  " call dein#add('Shougo/neco-syntax')
  " call dein#add('Shougo/neco-vim')
  call dein#add('Shougo/neosnippet.vim')
  call dein#add('Shougo/neosnippet-snippets')

  call dein#add('jonathanfilip/vim-lucius')
  call dein#add('flazz/vim-colorschemes')
  call dein#add('ujihisa/unite-colorscheme')
  call dein#add('KeitaNakamura/tex-conceal.vim')
  call dein#add('kakkyz81/evervim')
  call dein#add('tpope/vim-surround')
  call dein#add('tyru/caw.vim')
  call dein#add('powerline/fonts')
  " call dein#add('Lokaltog/vim-powerline')
  call dein#add('vim-airline/vim-airline')
  call dein#add('vim-airline/vim-airline-themes')
  call dein#add('powerline/fonts')
  call dein#add('vim-jp/vimdoc-ja')
  " call dein#add('thinca/vim-ft-help_fold')


  " Required:
  call dein#end()
  call dein#save_state()
endif

" Required:
filetype plugin indent on
syntax enable

" If you want to install not installed plugins on startup.
if dein#check_install()
  call dein#install()

endif

" end dein scripts-------------------------

" ---------------------------------------
"  color scheme:
" ---------------------------------------

" :Unite -auto-preview colorscheme
" ã§ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹

" colorscheme default
" colorscheme molokai
" colorscheme chocolatepapaya
" colorscheme anotherdark
" colorscheme bubblegum
" colorscheme buddy
colorscheme buttercream
" colorscheme emacs
" colorscheme elflord
" colorscheme buttercream

" set background=dark


" highlight statusline ctermfg=248 ctermbg=23

" conceal        xxx ctermfg=7 ctermbg=242 guifg=lightgrey guibg=darkgrey
highlight conceal ctermfg=7 ctermbg=black guibg=darkgray
" å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹ã®èƒŒæ™¯ã‚’ç™½ã«å¤‰æ›´
autocmd initvim Colorscheme highlight FullWidthSpace ctermbg=white
autocmd initvim VimEnter match FullWidthSpace /ã€€/

"
" https://h2plus.biz/hiromitsu/entry/674
" ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ ã‚’ã¾ã¨ã‚ãŸã‚µã‚¤ãƒˆ
hi SpellBad NONE
hi SpellCap NONE
hi SpellRare NONE
hi SpellLocal NONE

let g:airline_theme = 'tomorrow'
" let g:airline_theme = 'bubblegum'
" let g:airline_theme = 'papercolor'


" ---------------------------------------
"  conceal:
" ---------------------------------------
set conceallevel=2
set concealcursor=""



" ---------------------------------------
"  key map (n):
" ---------------------------------------

" simple map ------------------------
" :ã¨;ã®å…¥ã‚Œæ›¿ãˆã€Karabinar ã‹ã‚‰ã‚„ã£ãŸã®ã§ã‚¯ãƒ“
" ãã‚Œã©ã“ã‚ã‹ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚‚ç‰©ç†çš„ã«å…¥ã‚Œæ›¿ãˆã¡ã‚ƒã£ãŸ
" nnoremap ; :
" nnoremap : ;
" vnoremap ; :
" vnoremap : ;
noremap!  
" default: switch to ex mode (same as [gQ])
nnoremap Q kA
" default: same as [k]
nnoremap <C-p> :<C-p>

" function key
" map <f4> to edit init.vim
nnoremap <f4> :<C-u>.tabedit $XDG_CONFIG_HOME/nvim/init.vim<CR>
" map <f5> to source init.vim
nnoremap <f5> :<C-u>source $XDG_CONFIG_HOME/nvim/init.vim<CR>
" map <f6> to global neosnippetedit
nnoremap <f6> :<C-u>.tabedit $XDG_CONFIG_HOME/nvim/my_snippets/_.snip<CR>
" map <f7> to language specific neosnippetedit
nnoremap <f7> :NeoSnippetEdit -horizontal<CR>
" <f8> dictionary ã®å‘¼ã³å‡ºã—
nnoremap <f8> :<C-u>.tabedit $LANG_DICTIONARY<CR>:sort u<CR>
" autocmd initvim filetype dict  nnoremap <f8> :q<CR>
" v mode <f8> é¸æŠç¯„å›²ã‚’ dictionary ã«é€ã‚‹
vnoremap <f8> y :!echo <C-r>">> $LANG_DICTIONARY<CR><CR>
" <f10> conceal syntax ã®å‘¼ã³å‡ºã—ï¼ˆvimï¼‰
autocmd initvim filetype tex  nnoremap <f10>
      \ :<C-u>.tabedit $XDG_CACHE_HOME/dein/repos/github.com/keitanakamura/tex-conceal.vim/after/syntax/tex.vim<CR>
" <f11> <f12> conceal ã®ãã‚Šã‹ãˆ
nnoremap <f11> :set conceallevel=2<CR>
nnoremap <f12> :set conceallevel=0<CR>

" small trick -----------------------
" delete only last char in current line
" nnoremap <expr> d, "\a<C-h><esc>"
nnoremap <expr><silent> d, Get_curpos_to_curpos()."\A<C-h><ESC>"



" ---------------------------------------
"  key map (i):
" ---------------------------------------

" simple map ------------------------
inoremap <silent> jj <ESC>


" small trick -----------------------
" ã²ã¨ã¤ä¸Šã®è¡Œã‚’ã„ãŸã ã
inoremap y<Up> <C-o>d$<ESC><Up><Right>y$<Down>pa

" ã‹ã£ã“è£œå®Œ
inoremap (<ENTER> ()<ESC>i<CR><Esc><S-o>
inoremap {<ENTER> {}<ESC>i<CR><Esc><S-o>
inoremap <<ENTER> <><ESC>i<CR><Esc><S-o>







" ---------------------------------------
"  plugin setting:
" ---------------------------------------

" deoplete ---------------------

if !has('nvim')
  call dein#add('roxma/nvim-yarp')
  call dein#add('roxma/vim-hug-neovim-rpc')
endif

let g:deoplete#enable_at_startup = 1
let g:deoplete#auto_complete_delay = 0
let g:deoplete#auto_complete_start_length = 1
"let g:neocomplcache_enable_auto_select = 1

call deoplete#custom#source('_', 'matchers'  ,  ['matcher_head']) "å®Œå…¨ä¸€è‡´ã ã‘
call deoplete#custom#source('_', 'sorters'   ,  ['sorter_rank'])
call deoplete#custom#source('_', 'converters',  ['converter_remove_overlap', 'converter_truncate_abbr','converter_truncate_menu', 'converter_auto_paren'])
" ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
"call deoplete#custom#source('_', 'matchers'  , ['matcher_fuzzy'])
"call deoplete#custom#source('_', 'sorters'   ,  ['sorter_rank'])
"call deoplete#custom#source('_', 'converters',  ['converter_remove_overlap', 'converter_truncate_abbr','converter_truncate_menu'])

" ä¸€ã¤å‰ã®æ–‡å­—ãŒ ãªã„ï¼ˆã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ãŒ1ï¼‰ or \s(æ”¹è¡Œãƒ»ã‚¿ãƒ–ãƒ»åŠã‚¹ãƒš) ã«ãƒãƒƒãƒã™ã‚‹
function! s:Check_back_space() abort "{{{
  let col = col('.') - 1
  return !col || getline('.')[col - 1]  =~ '\s'
endfunction"}}}

" é¸æŠã‚’ tab ã‚­ãƒ¼ã§è¡Œã†ã€‚å˜èªã®å¾Œã‚ã§ tab ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨ deoplete ã‚’å‘¼ã³å‡ºã™ï¼ˆç„¡åŠ¹åŒ–ï¼‰
"inoremap <silent><expr> <TAB> pumvisible() ? "\<C-n>" : <sid>Check_back_space() ? "\<TAB>" : deoplete#mappings#manual_complete()
inoremap <silent><expr> <TAB>   pumvisible() ? "\<C-n>" : "\<TAB>"
inoremap <silent><expr> <S-TAB> pumvisible() ? "\<C-p>" : "\<TAB>"
imap     <silent><expr> <C-l>   pumvisible() ? deoplete#close_popup()."\<C-l>" : "\<plug>(neosnippet_jump)"
inoremap <silent><expr> <Up>    pumvisible() ? deoplete#close_popup()."\<Up>" : "\<Up>"
inoremap <silent><expr> <Down>  pumvisible() ? deoplete#close_popup()."\<Down>" : "\<Down>"
" inoremap <expr><hoge> deoplete#complete_common_string()

"tab tab ã‚­ãƒ¼ã§ãƒˆãƒƒãƒ—ãƒ’ãƒƒãƒˆã‚’é¸æŠã™ã‚‹
"inoremap <silent><expr><TAB>    pumvisible() ? "\<C-n>".deoplete#mappings#close_popup() : "\<TAB>"
" é–‹ã„ã¦ã‚‹ã¨ãã«ãƒªã‚¿ãƒ¼ãƒ³ã™ã‚‹ã¨ç¢ºå®š ãƒã‚°ã‚ã‚Š
"inoremap <silent><expr> <ENTER>
"      \ pumvisible() ? "\a<BS>".deoplete#mappings#manual_complete() :
"      \ <sid>Check_back_space() ? "\<ENTER>" :
"      \ "\<ENTER>"


" neosnippet ---------------------
let g:neosnippet#snippets_directory='$XDG_CONFIG_HOME/nvim/my_snippets'

" note: it must be "imap" and "smap".  it uses <plug> mappings.
" a<C-h> ã®ç†ç”±ï¼š
"   ä¾‹ãˆã° { ã‚’ä½¿ã£ãŸãƒãƒƒãƒ”ãƒ³ã‚°ãŒã‚ã‚‹å½±éŸ¿ã§ { ã‚’å…¥åŠ›ã™ã‚‹ã¨å¾…æ©Ÿãƒ¢ãƒ¼ãƒ‰ã«ãªã‚‹ã€‚
"   å¾…æ©Ÿãƒ¢ãƒ¼ãƒ‰ã§ extend ã‚’å‘¼ã³å‡ºã—ã¦ã‚‚å³åº§ã«å±•é–‹ã¯ã•ã‚Œãšï¼ŒäºŒåº¦æŠ¼ã—ãŒå¿…è¦ã ã£ãŸã€‚
"   ä»–ã«ã‚‚å¾…æ©Ÿãƒ¢ãƒ¼ãƒ‰ã«ãªã‚‹ã‚ˆã†ãªä»»æ„ã®å…¥åŠ›ã§å³åº§ã«å±•é–‹ã§ããªã‹ã£ãŸã€‚
"   ä¸€æ—¦é©å½“ãªæ–‡å­— a ã‚’æ‰“ã£ã¦ãã‚Œã‚’æ¶ˆã™æ“ä½œã‚’æŒŸã‚€ã“ã¨ã§ï¼Œä¸€åº¦æŠ¼ã—ã§ã„ã‘ã‚‹ã‚ˆã†ã«ã—ãŸã€‚
imap <C-k>     a<C-h><plug>(neosnippet_expand)
smap <C-k>     a<C-h><plug>(neosnippet_expand)
" deoplete setting -> imap <silent><expr> <C-l>   pumvisible() ? deoplete#close_popup()."\<C-l>" : "\<plug>(neosnippet_jump)"
smap <C-l>     <plug>(neosnippet_jump)
xmap <C-k>     <plug>(neosnippet_expand_target)
"imap <hoge>    <plug>(neosnippet_start_unite_snippet)


" vim-surround ----------------

" caw : commentout-------------
nmap <silent> ?? <plug>(caw:hatpos:toggle)
vmap <silent> ?? <plug>(caw:hatpos:toggle)
let g:caw_no_default_keymappings = 1


" airline : statusline ------------- todo:lightline ã«ä¹—ã‚Šæ›ãˆã‚‹ï¼Ÿ
let g:airline#extensions#default#layout = [
      \ [ 'a', 'b', 'c' ],
      \ [ 'x', 'y', 'z', 'error', 'warning' ]
      \ ]
let g:airline#extensions#default#section_truncate_width = {
      \ 'b': 79,
      \ 'x': 60,
      \ 'y': 88,
      \ 'z': 45,
      \ 'warning': 80,
      \ 'error': 80,
      \ }

let g:airline_section_a = airline#section#create(['mode', 'crypt'])

let g:airline_powerline_fonts = 1
let g:airline#extensions#tabline#enabled = 1
" let g:airline#extensions#tabline#buffer_idx_mode = 1
let g:airline#extensions#whitespace#mixed_indent_algo = 1
if !exists('g:airline_symbols')
  let g:airline_symbols = {}
endif


" unicode symbols
let g:airline_left_sep = 'Â»'
let g:airline_left_sep = 'â–¶'
let g:airline_right_sep = 'Â«'
let g:airline_right_sep = 'â—€'
let g:airline_symbols.crypt = 'ğŸ”’'
let g:airline_symbols.linenr = 'â˜°'
let g:airline_symbols.linenr = 'âŠ'
let g:airline_symbols.linenr = 'â¤'
let g:airline_symbols.linenr = 'Â¶'
let g:airline_symbols.maxlinenr = ''
let g:airline_symbols.maxlinenr = 'ã‘'
let g:airline_symbols.branch = 'â‡'
let g:airline_symbols.paste = 'Ï'
let g:airline_symbols.paste = 'Ã'
let g:airline_symbols.paste = 'âˆ¥'
let g:airline_symbols.spell = 'ê¨'
let g:airline_symbols.notexists = 'âˆ„'
let g:airline_symbols.whitespace = 'Î'
" powerline symbols
let g:airline_left_sep = 'î‚°'
let g:airline_left_alt_sep = 'î‚±'
let g:airline_right_sep = 'î‚²'
let g:airline_right_alt_sep = 'î‚³'
let g:airline_symbols.branch = 'î‚ '
let g:airline_symbols.readonly = 'î‚¢'
let g:airline_symbols.linenr = 'â˜°'
let g:airline_symbols.maxlinenr = 'î‚¡'


function! MyPlugin(...)
  let w:airline_section_a = '%l'
  let w:airline_section_b = '%f'
  let w:airline_section_y = 'hoge'
  let g:airline_variable_referenced_in_statusline = 'foo'
endfunction
" autocmd initvim CursorMoved * call airline#add_statusline_func('MyPlugin')
" call airline#add_statusline_func('MyPlugin')





" let g:airline#extensions#ale#enabled = 1
" let g:airline#extensions#ale#error_symbol = 'E:'
" let g:airline#extensions#ale#warning_symbol = 'W:'
" let g:airline#extensions#ale#show_line_numbers = 1
" let g:airline#extensions#ale#open_lnum_symbol = '(L'
" let g:airline#extensions#ale#close_lnum_symbol = ')'
" let g:airline#extensions#branch#enabled = 1
" let g:airline#extensions#branch#custom_head = 'gina#component#repo#branch'
" let g:airline#extensions#hunks#enabled = 0
" let g:airline#extensions#quickfix#location_text = 'Location'
" let g:airline#extensions#quickfix#quickfix_text = 'Quickfix'
" let g:airline#extensions#tabline#buffer_nr_show = 1
" let g:airline#extensions#tabline#buffers_label = 'b'
" let g:airline#extensions#tabline#buffer_idx_mode = 1
" let g:airline#extensions#tabline#enabled = 1
" let g:airline#extensions#tabline#exclude_preview = 1
" let g:airline#extensions#tabline#fnamemod = ':t'
" let g:airline#extensions#tabline#show_buffers = 0
" let g:airline#extensions#tabline#show_splits = 1
" let g:airline#extensions#tabline#show_tab_nr = 0
" let g:airline#extensions#tabline#show_tab_type = 1
" let g:airline#extensions#tabline#show_tabs = 1
" let g:airline#extensions#tabline#switch_buffers_and_tabs = 1
" let g:airline#extensions#tabline#tab_nr_type = 2
" let g:airline#extensions#tabline#tabs_label = 't'
" let g:airline#extensions#tagbar#enabled = 0
" let g:airline#extensions#languageclient#enabled = 1
" let g:airline#extensions#whitespace#mixed_indent_algo = 2
" let g:airline#extensions#wordcount#enabled = 0
" let g:airline_exclude_filetypes = ['fzf']
" let g:airline_highlighting_cache = 1
" let g:airline_inactive_collapse = 0
" let g:airline_skip_empty_sections = 1
" let g:airline_theme = 'hybridline'
" if dein#source('vim-airline')
"   let g:airline_section_c = airline#section#create(['%<', 'readonly', 'path'])
" endif



" evervim ---------------------

"S=s1:U=950c7:E=16ed29afffd:C=1677ae9d0f8:P=1cd:A=en-devtoken:V=2:H=5eb05138265db2c1bf56b1b5fea42e0b
" first time settings
" :EvervimSetup

" ---------------------------------------
"  Language Setting:
" ---------------------------------------
filetype on
filetype plugin indent on

" Variables depend on language
let $LANG = "no defined"
let $LANG_COMMENT_TOKEN = "no defined"


" template
" " hogehogengo ----------------------
" autocmd BufNewFile,BufRead *.hogehogengo setfiletype hogehogengo
" autocmd initvim FileType hogehogengo
"      \ let $LANG = "hogehogengo"


" vim --------------------------
autocmd initvim FileType vim
      \ let $LANG = "vim"

" tex --------------------------
autocmd initvim FileType tex
      \ let $LANG = "tex"
let g:tex_conceal="adgmb"

" json -------------------------
autocmd initvim FileType json
      \ let $LANG = "json"



" ---------------------------------------
"  Fired Lastly:
" ---------------------------------------

autocmd initvim VimEnter *
      \ let $LANG_DICTIONARY = expand($XDG_CONFIG_HOME.'/nvim/my_dictionary/'.$LANG.'.dict')
autocmd initvim VimEnter *
      \ set dictionary=$LANG_DICTIONARY



" ----------------------------------------------
"
" ãŠã—ã¾ã„
"
"
"       "<<<" "lll"
"       " //        eee "
"       "/\ /\      /\ /\   " 
"        ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£   >
"        ï¿£                     >
"
" ã“ã‚Œã§ãƒ’ãƒã‚¢ãƒ©ã‚·ã¤ãã‚ŠãŸã„ã€‚
" ç«ã¯ " /\ " ã§å›²ã£ã¦èµ¤ãã™ã‚‹ï¼
" ãã†ã™ã‚‹é–¢ä¿‚ä¸Šï¼Œãƒ‡ã‚¶ã‚¤ãƒ³ã¯æ…é‡ã«é¸ã¶ã€‚
"
" ----------------------------------------------
